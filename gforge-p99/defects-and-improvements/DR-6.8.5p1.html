<html>
<header>
<title>Defect Report relative to n1570, 6.8.5p1 and A.2.3</title>
<style>
html { background-color : #FFF }
tr { frame : 2px solid black;}
th { background-color : #DDD }
.missing { background-color : #E11 }
.toomuch { background-color : #E1E }
.optional { background-color : #070 }
.alternative { color : #AAA }
.command { background-color : #AAA; text-style : sans-serif }
</style>
</header>
<body>
<h1>Defect Report relative to n1570, 6.8.5p1 and A.2.3</h1>

<h2>Problem statement</h2>

The standard lists two different forms for
the <code>for</code>-statement in 6.8.5p1:

<pre>
for ( expression[opt] ; expression[opt] ; expression[opt] ) statement
for ( declaration expression[opt] ; expression[opt] ) statement
</pre>

whereas later in 6.8.5.3 these two forms are subsumed in a third form
by:

<pre>
for ( clause-1 ; expression-2 ; expression-3 ) statement
</pre>

Obviously the second form above is a typo and doesn't fit within this
third form, the semantic that is given in 6.8.5.3 and to common
practice in existing compilers.

<h2>Proposed solution</h2>

Replace the second form in 6.8.5p1 and A.2.3 by the intended one:

<pre>
for ( declaration expression[opt] ; expression[opt] ; expression[opt] ) statement
</pre>

</body>
